1
00:00:00,000 --> 00:00:04,400
在互联网企业工作的大家应该对 A B Testing 这个概念不陌生

2
00:00:04,400 --> 00:00:09,900
这里我就想帮大家对 A B Testing 做一个概念上的总结

3
00:00:09,900 --> 00:00:12,800
帮助大家了解 A B Testing 到底是用来干什么的

4
00:00:12,800 --> 00:00:15,300
A B Testing 和背后的统计原理

5
00:00:15,300 --> 00:00:18,500
其实就是在研究新药的时候

6
00:00:18,500 --> 00:00:25,500
他们开发了一套研究一个新药是不是真正有效的原理机制和背后的统计方法

7
00:00:25,500 --> 00:00:28,500
那我们就用一个药来举例子吧

8
00:00:28,500 --> 00:00:30,500
比如说有一片药

9
00:00:30,500 --> 00:00:33,500
这个药它声称自己可以让吃的小朋友

10
00:00:33,500 --> 00:00:36,000
在吃一段时间之后长高

11
00:00:36,000 --> 00:00:40,500
怎么样子去证明它的这个宣称是真的呢

12
00:00:40,500 --> 00:00:42,500
如果不做A B testing的话

13
00:00:42,500 --> 00:00:44,500
大家可能会想到两个方法

14
00:00:44,500 --> 00:00:48,000
一个是比较这个吃药之前和之后的效果

15
00:00:48,000 --> 00:00:51,600
一个是比较没吃药的人和吃过药的人

16
00:00:51,600 --> 00:00:53,600
他们生长有什么区别

17
00:00:53,600 --> 00:00:56,200
但是这两个方法其实都没有办法得到

18
00:00:56,200 --> 00:00:59,399
这个药本身的所谓causal impact

19
00:00:59,399 --> 00:01:01,000
也就是因果关系

20
00:01:01,000 --> 00:01:02,200
为什么呢

21
00:01:02,200 --> 00:01:05,260
因为当你比较之前之后的身高的话

22
00:01:05,260 --> 00:01:07,480
小朋友本身就会长高

23
00:01:07,480 --> 00:01:10,280
所以说你没有办法把他长高的这个

24
00:01:10,280 --> 00:01:13,060
长高的多少归结于这个药本身

25
00:01:13,120 --> 00:01:16,579
如果你比较吃过药或者没吃过药的人

26
00:01:16,579 --> 00:01:18,579
这里就会有一个概念叫做

27
00:01:18,579 --> 00:01:19,859
Selection Bias

28
00:01:19,859 --> 00:01:21,659
就是这个

29
00:01:21,659 --> 00:01:23,939
选择偏见

30
00:01:23,939 --> 00:01:27,000
我们听说过的这个幸存者偏差就是选择偏见我们听说过的幸存者偏差

31
00:01:27,000 --> 00:01:29,000
就是选择偏见的其中一种

32
00:01:29,000 --> 00:01:32,000
比如说这个药很贵

33
00:01:32,000 --> 00:01:35,000
那吃药的人可能比没吃药的人

34
00:01:35,000 --> 00:01:37,000
平均的家庭财富要更多

35
00:01:37,000 --> 00:01:40,000
如果观测出来他们有区别

36
00:01:40,000 --> 00:01:43,000
可能只不过是有钱家庭的孩子

37
00:01:43,000 --> 00:01:46,000
比没钱家庭的孩子长高的更快

38
00:01:46,000 --> 00:01:50,799
或者想吃这个药的孩子他可能本来就觉得自己长不高

39
00:01:50,799 --> 00:01:52,239
所以说他就去吃药了

40
00:01:52,239 --> 00:01:54,799
我们可能观测到吃这个药没有效果

41
00:01:54,799 --> 00:01:57,599
但是我们并不知道如果没有吃药的话

42
00:01:57,599 --> 00:02:00,560
这些孩子是不是比吃了药以后长得更慢

43
00:02:00,560 --> 00:02:02,000
那好了

44
00:02:02,000 --> 00:02:04,799
那我们AB testing是怎么样子解决这个问题的呢

45
00:02:04,799 --> 00:02:05,000
AB testing就是我们找两组人首先找一组人那好了,那我们AB Testing是怎么样子解决这个问题的呢?

46
00:02:05,000 --> 00:02:13,000
AB Testing就是我们找两组人,首先找一组人,然后我们随机的把它分成组A和组B

47
00:02:13,000 --> 00:02:18,000
组A不吃药,或者吃一个小糖丸,就是Placebo假药

48
00:02:18,000 --> 00:02:22,000
组B就是吃这个会让你长高的药

49
00:02:22,000 --> 00:02:26,400
我们观测一段时间,最后组A和组B的身高差别

50
00:02:26,400 --> 00:02:28,800
就是这个药的treatment effect

51
00:02:28,800 --> 00:02:31,199
也就是这个药本身的效果

52
00:02:31,199 --> 00:02:34,800
那这个方法为什么可以

53
00:02:34,800 --> 00:02:38,800
为什么可以上述两种这个bias呢

54
00:02:38,800 --> 00:02:41,000
因为组A和组B

55
00:02:41,000 --> 00:02:43,199
他们本身是一种人

56
00:02:43,199 --> 00:02:45,000
他们随机分配了以后

57
00:02:45,000 --> 00:02:47,000
根据大数定理

58
00:02:47,000 --> 00:02:50,000
他们的平均值在各方面应该都是一样的

59
00:02:50,000 --> 00:02:53,000
也就是说他们没有这个selection bias

60
00:02:53,000 --> 00:02:56,000
如果说稍稍加一点公式的话

61
00:02:56,000 --> 00:03:01,000
就是每个个体的变量减去这个组的平均值

62
00:03:01,000 --> 00:03:05,680
处于它的方差是会服从一个正带分布

63
00:03:05,680 --> 00:03:08,879
具体这个就不能理解了

64
00:03:08,879 --> 00:03:10,080
总之就是你random

65
00:03:10,080 --> 00:03:13,039
你把它随机分配了以后

66
00:03:13,039 --> 00:03:16,639
这两个组之间就不会有selection bias

67
00:03:16,639 --> 00:03:19,520
那我们再根据一段时间的观察

68
00:03:19,520 --> 00:03:21,599
组A和组B都涨高了

69
00:03:21,599 --> 00:03:24,000
但是组B有没有在组A的基础质上

70
00:03:24,000 --> 00:03:24,800
涨得更高

71
00:03:24,800 --> 00:03:25,280
涨得更高

72
00:03:25,280 --> 00:03:29,060
涨得更高的这一部分就是这个药本身的效果

73
00:03:29,060 --> 00:03:32,460
如果我们回到一个互联网企业的例子

74
00:03:32,479 --> 00:03:34,939
比如说我们有两个button

75
00:03:34,939 --> 00:03:37,479
有两个这个有两个

76
00:03:37,479 --> 00:03:38,460
界面上有两个按钮

77
00:03:38,479 --> 00:03:41,439
我们想看一下用户更喜欢哪一种类型

78
00:03:41,439 --> 00:03:43,060
哪一个颜色的按钮吧

79
00:03:43,060 --> 00:03:46,479
那我们就把这个所有的所有来这个页面的用户

80
00:03:46,479 --> 00:03:48,120
随机分配到两组

81
00:03:48,120 --> 00:03:50,120
一组人给这个button A

82
00:03:50,120 --> 00:03:51,319
一组人给button B

83
00:03:51,319 --> 00:03:53,120
然后看他们这个点击率

84
00:03:53,120 --> 00:03:55,560
虽然说不同的人

85
00:03:55,560 --> 00:03:57,639
他一开始的这个点击率是不一样的

86
00:03:57,639 --> 00:04:00,520
但是如果说我们随机分配成组A和组B的话

87
00:04:00,520 --> 00:04:02,439
他们的点击率应该都差不多

88
00:04:02,439 --> 00:04:04,280
在平均值上的话应该差不多

89
00:04:04,280 --> 00:04:08,000
那最后他们点击率他们平均点击率应该都差不多在平均值上的话应该差不多那最后他们点击率

90
00:04:08,000 --> 00:04:09,740
他们平均点击率的差别

91
00:04:09,740 --> 00:04:11,280
就是这个按钮本身带来的差别了

92
00:04:12,560 --> 00:04:15,240
在设计AB Testing的时候

93
00:04:15,240 --> 00:04:21,060
有三个要素是需要注意的

94
00:04:21,060 --> 00:04:22,980
就是来告诉你

95
00:04:22,980 --> 00:04:26,000
最后你这个AB Testing是不是可以在统计上显著

96
00:04:26,000 --> 00:04:31,000
第一个要素是你想有多大的自信区间

97
00:04:31,000 --> 00:04:34,000
也就是说你的这个testing

98
00:04:34,000 --> 00:04:36,000
做出一个错误的结论的概率是多少

99
00:04:36,000 --> 00:04:42,000
你当然了就是因为所有的事情都是基于一个统计和基于一个概率的

100
00:04:42,000 --> 00:04:45,360
总是会有一些特别特殊情况出现

101
00:04:45,360 --> 00:04:47,160
但是你观察的样本越多

102
00:04:47,160 --> 00:04:49,360
你出现特殊情况的概率就越小

103
00:04:49,360 --> 00:04:53,160
所以说你比如说大家说我们在95%的情况下

104
00:04:53,160 --> 00:04:54,480
都可以得到正确的结论

105
00:04:54,480 --> 00:04:57,439
那就是你这个你这个实验的power

106
00:04:57,439 --> 00:05:00,519
所以说我们要求power到底有多高

107
00:05:00,519 --> 00:05:07,439
在这个论文里或者说是在大家平时的实验里边

108
00:05:07,439 --> 00:05:09,079
一般就会选到95%

109
00:05:09,079 --> 00:05:14,839
就是我们在95%的自信区间上是统计显著的

110
00:05:14,839 --> 00:05:20,000
第二个就是你的这个数据本身它到底有多

111
00:05:20,000 --> 00:05:22,160
波动有多大

112
00:05:22,160 --> 00:05:26,000
如果说这个数据本身它就很volatile

113
00:05:26,000 --> 00:05:28,000
或者说是variance很大

114
00:05:28,000 --> 00:05:30,000
或者说是这个

115
00:05:30,000 --> 00:05:32,000
就是变来变去的

116
00:05:32,000 --> 00:05:34,000
那你肯定就需要

117
00:05:34,000 --> 00:05:36,000
去 你就需要更多的样本

118
00:05:36,000 --> 00:05:38,000
去消除它的这个波动

119
00:05:38,000 --> 00:05:40,000
以及

120
00:05:40,000 --> 00:05:42,000
你就需要

121
00:05:42,000 --> 00:05:44,000
你就需要更多的样本去

122
00:05:44,000 --> 00:05:47,120
去消除它的波动 或者说需要更多的样本去消除它的波动或者说需要更多的样本去

123
00:05:47,120 --> 00:05:51,120
才可以得到一个统计上显著的结论

124
00:05:51,120 --> 00:05:54,519
第三个就是你觉得你的这个treatment effect

125
00:05:54,519 --> 00:05:55,920
到底是有多大

126
00:05:55,920 --> 00:06:00,120
比如说你可以把这个小朋友的平均身高增长10%

127
00:06:00,120 --> 00:06:01,720
那它有可能很显著

128
00:06:01,720 --> 00:06:04,519
那你可能只需要几个小朋友就可以得出结论

129
00:06:04,519 --> 00:06:08,839
如果说他claim可以把这个小朋友的平均身高增加1%

130
00:06:08,839 --> 00:06:11,519
那这个就很难去观测到

131
00:06:11,519 --> 00:06:15,180
那你就需要更多的小朋友才可以得到一个更平均的平均值

132
00:06:15,180 --> 00:06:18,939
并且把他们本身生长速度本身的方差给消除掉

133
00:06:18,939 --> 00:06:23,860
那才可能得到一个统计上显著的结论

134
00:06:23,860 --> 00:06:29,160
好的 刚才讲述的只是AB testing的一个很大范围的概念

135
00:06:29,160 --> 00:06:32,800
但是其实AB testing不是能适用所有的事情

136
00:06:32,800 --> 00:06:36,879
当你能获得的样本数有限制的时候

137
00:06:36,879 --> 00:06:40,879
怎么样子可以从小样本中获得统计显著的结论

138
00:06:40,879 --> 00:06:43,680
或者说当你实验不可能

139
00:06:43,680 --> 00:06:47,000
比如说法律或者各种各样的规章制度

140
00:06:47,000 --> 00:06:50,000
不允许你进行AB testing

141
00:06:50,000 --> 00:06:53,000
那有一些计量经济学的方法

142
00:06:53,000 --> 00:06:58,000
可以让你从历史数据中得到一个causal的结论

143
00:06:58,000 --> 00:07:03,000
包括有的时候这个AB testing可能会给你一个错误的结论

144
00:07:03,000 --> 00:07:06,439
因为比如说会有这个Network effect

145
00:07:06,439 --> 00:07:09,839
或者说这个因为你给了B treatment

146
00:07:09,839 --> 00:07:11,839
导致你的A会下降

147
00:07:11,839 --> 00:07:18,560
那也要有一些其他的方式来进行更复杂的实验设计

148
00:07:18,560 --> 00:07:23,360
如果到时候有机会的话我们可以再开一期节目单独来讲

149
00:07:23,360 --> 00:07:25,360
谢谢大家 拜拜

